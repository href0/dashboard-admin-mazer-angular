<div class="row">
  <div class="col-12 col-lg-4">
      <div class="card">
          <div class="card-body">
              <div class="d-flex justify-content-center align-items-center flex-column">
                  <div class="avatar avatar-2xl">
                      <img src="./assets/compiled/jpg/2.jpg" alt="Avatar">
                  </div>

                  <h3  class="mt-3">{{ userForm.get('name')?.value || 'Your Name' }}</h3>
                  <p class="text-small">Junior Software Engineer</p>
              </div>
          </div>
      </div>
  </div>
  <div class="col-12 col-lg-8">
      <div class="card">
          <div class="card-body">
            <app-alert [message]="alert?.message" [type]="alert?.type"></app-alert>
              <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
                  <div class="form-group mandatory">
                      <label for="name" class="form-label">Name</label>
                      <input 
                        formControlName="name" 
                        [ngClass]="userForm.get('name')?.touched && 
                            userForm.get('name')?.errors ? 'is-invalid' : ''"
                        type="text" name="name" id="name" class="form-control" placeholder="John Doe">
                        @if (userForm.get('name')?.touched && userForm.get('name')?.hasError('required')) {
                          <div class="invalid-feedback">Full Name is required.</div>
                        } 
                  </div>
                  <div class="form-group mandatory">
                      <label for="email" class="form-label">Email</label>
                      <input 
                        formControlName="email" 
                        [ngClass]="userForm.get('email')?.touched && 
                                  userForm.get('email')?.errors ? 'is-invalid' : ''"
                        type="text" name="email" id="email" class="form-control" placeholder="john.doe@example.net">
                        @if (userForm.get('email')?.touched && userForm.get('email')?.hasError('required')) {
                          <div class="invalid-feedback">Email is required.</div>
                         } 
                         @if (userForm.get('email')?.touched && userForm.get('email')?.hasError('email')) {
                          <div class="invalid-feedback">Email must be an email.</div>
                         } 
                  </div>
                  <div class="form-group">
                      <label for="phone" class="form-label">Phone</label>
                      <input 
                        formControlName="phone" 
                        [ngClass]="userForm.get('phone')?.touched && 
                        userForm.get('phone')?.errors ? 'is-invalid' : ''"
                      type="text" name="phone" id="phone" class="form-control" placeholder="083xxxxxxxxx">
                      @if (userForm.get('phone')?.touched && userForm.get('phone')?.hasError('pattern')) {
                        <div class="invalid-feedback">Phone must contain only numbers.</div>
                       } 
                      @if (userForm.get('phone')?.touched && userForm.get('phone')?.hasError('minlength')) {
                        <div class="invalid-feedback">Phone must be at least 10 characters.</div>
                       } 
                      @if (userForm.get('phone')?.touched && userForm.get('phone')?.hasError('maxlength')) {
                        <div class="invalid-feedback">Phone cannot be longer than 15 characters.</div>
                       } 
                    </div>
                  <div class="form-group">
                      <label for="birthday" class="form-label">Birthday</label>
                      <input formControlName="birthDate"  type="date" name="birthday" id="birthday" class="form-control" placeholder="Your Birthday">
                  </div>
                  <div class="form-group">
                      <label for="gender" class="form-label">Gender</label>
                      <select formControlName="gender"  name="gender" id="gender" class="form-control">
                          <option value="Male">Male</option>
                          <option value="Female">Female</option>
                      </select>
                  </div>
                  <div class="form-group">
                    @if (!isLoading) {
                    <button type="submit" class="btn btn-primary">Save</button>
                    } @else {
                    <button type="button" class="btn btn-primary" disabled>Loading ...</button>
                    }
                    
                  </div>
              </form>
          </div>
      </div>
  </div>
</div>