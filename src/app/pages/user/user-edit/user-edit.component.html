<div class="card">
  <!-- <div class="card-header">
      <h4 class="card-title">Add User</h4>
  </div> -->
  <div class="card-content">
    <div class="card-body">
      <app-alert *ngIf="alert" [type]="alert.type" [message]="alert.message"></app-alert>
      <form class="form form-horizontal" [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="form-body">
          <div class="row">
            <div class="col-md-4">
              <label for="email-horizontal">Email</label>
            </div>
            <div class="col-md-8 form-group">
              <input 
                formControlName="email" 
                [ngClass]="userForm.get('email')?.touched && 
                          userForm.get('email')?.errors ? 'is-invalid' : ''" 
                type="email" id="email-horizontal" class="form-control" name="email-id" placeholder="john@gmail.com">
              @if (userForm.get('email')?.touched && userForm.get('email')?.hasError('required')) {
                <div class="invalid-feedback">Email is required.</div>
               } 
               @if (userForm.get('email')?.touched && userForm.get('email')?.hasError('email')) {
                <div class="invalid-feedback">Email must be an email.</div>
               } 
            </div>
            <div class="col-md-4">
              <label  for="full-name-horizontal">Full Name</label>
            </div>
            <div class="col-md-8 form-group">
              <input 
                formControlName="name" 
                [ngClass]="userForm.get('name')?.touched && 
                          userForm.get('name')?.errors ? 'is-invalid' : ''" 
                type="text" id="full-name-horizontal" class="form-control" name="fname" placeholder="John Doe">
              @if (userForm.get('email')?.touched && userForm.get('email')?.hasError('required')) {
                <div class="invalid-feedback">Full Name is required.</div>
              } 
            </div>
            <div class="col-md-4">
              <label for="password-horizontal">Password</label>
            </div>
            <div class="col-md-8 form-group">
              <input 
                formControlName="password" 
                [ngClass]="userForm.get('password')?.touched && 
                        userForm.get('password')?.errors ? 'is-invalid' : ''" 
                type="password" id="password-horizontal" class="form-control" name="password"
                placeholder="Password">
                @if (userForm.get('password')?.touched && userForm.get('password')?.hasError('required')) {
                  <div class="invalid-feedback">Password is required.</div>
                } 
            </div>
            <div class="col-sm-12 d-flex justify-content-end">

              <button *ngIf="!isLoading" type="submit" class="btn btn-primary me-1 mb-1">Submit</button>
              <button *ngIf="isLoading" type="submit" disabled class="btn btn-primary me-1 mb-1">Loading...</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
